<aura:component controller="ProductController">

    <aura:handler name="init" value="{!this}" action="{!c.init}" />
    <aura:registerEvent name="pageTurnedEvent" type="c:TurnPageEvent" />

    <aura:method name="setProducts" action="{!c.showSortedProducts}">
        <aura:attribute name="filters" type="Map" />
        <aura:attribute name="operators" type="Map" />
    </aura:method>
    <aura:method name="setNewProducts" action="{!c.showProducts}">
        <aura:attribute name="filters" type="Map" />
        <aura:attribute name="operators" type="Map" />
    </aura:method>

    <aura:attribute name="productsList" type="List" />
    <aura:attribute name="pageSizesList" type="List" />
    <aura:attribute name="pageSize" type="Integer" default="6" />
    <aura:attribute name="page" type="Integer" default="1" />
    <aura:attribute name="pagesAmount" type="Integer" />
    <aura:attribute name="totalSize" type="Integer" />
    <aura:attribute name="currencyRate" type="Object" />
    <aura:attribute name="isSpinnerActive" type="Boolean" />

    <!-- component that displays list -->
    <div class="slds-box">
        <lightning:select aura:id="pageSizesField" label="Number of products" onchange="{!c.pageSizeChanged}">
            <aura:iteration items="{!v.pageSizesList}" var="item">
                <option text="{!item}" value="{!item}"></option>
            </aura:iteration>
        </lightning:select>
        <aura:if isTrue="{!v.productsList}">
            <c:DisplayProductsListComponent productsList="{!v.productsList}" currency="{!v.currencyRate}" />
            <aura:set attribute="else">
                <aura:if isTrue="{!v.isSpinnerActive}">
                    <div style="position: relative;display: inline-block; width: 100%;height: 100%;">
                        <lightning:spinner alternativeText="Loading" size="small" />
                    </div>
                    <aura:set attribute="else">
                        {#$Label.c.EmprtyCompare}
                    </aura:set>
                </aura:if>
            </aura:set>
        </aura:if>
    </div>
    <!--  -->
    <!-- buttons -->
    <div class="slds-grid ">
        <div class="slds-col ">
            <lightning:button label="First"
                class="slds-size_12-of-12 slds-button slds-button_neutral slds-button_stretch" disabled="{!v.page == 1}"
                onclick="{!c.changePage}" />
        </div>
        <div class="slds-col">
            <lightning:button label="Previous"
                class="slds-size_12-of-12 slds-button slds-button_neutral slds-button_stretch" disabled="{!v.page == 1}"
                onclick="{!c.changePage}" />
        </div>
        <div class="slds-col">
            <lightning:button label="Next"
                class="slds-size_12-of-12 slds-button slds-button_neutral slds-button_stretch"
                disabled="{!v.page == v.pagesAmount}" onclick="{!c.changePage}" />
        </div>
        <div class="slds-col">
            <lightning:button label="Last"
                class="slds-size_12-of-12 slds-button slds-button_neutral slds-button_stretch"
                disabled="{!v.page == v.pagesAmount}" onclick="{!c.changePage}" />
        </div>
    </div>
    <!---->
</aura:component>